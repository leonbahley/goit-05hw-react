{"version":3,"file":"static/js/242.f0194748.chunk.js","mappings":"gQAGaA,EAAQC,EAAAA,GAAAA,MAAH,kEAKLC,EAAOD,EAAAA,GAAAA,KAAH,uDAIJE,EAASF,EAAAA,GAAAA,OAAH,qHAQNG,EAAOH,EAAAA,GAAAA,GAAH,sHAQJI,GAAaJ,EAAAA,EAAAA,IAAOK,EAAAA,GAAPL,CAAH,mK,SCtBR,SAASM,IAAa,IAAD,EAC5BC,GAAWC,EAAAA,EAAAA,MACjB,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACMC,EAAK,UAAGF,EAAaG,IAAI,gBAApB,QAAgC,GAC3C,GAA4CC,EAAAA,EAAAA,UAAS,IAArD,eAAOC,EAAP,KAAuBC,EAAvB,KACA,GAAsCF,EAAAA,EAAAA,WAAS,GAA/C,eAAOG,EAAP,KAAoBC,EAApB,MAGAC,EAAAA,EAAAA,YAAU,WACM,KAAVP,GAGJQ,MAAM,wDAAD,OANQ,mCAMR,kBACqER,IAEvES,MAAK,SAAAC,GACJ,GAAIA,EAASC,GACX,OAAOD,EAASE,OAElB,MAAM,IAAIC,MAAM,uBACjB,IACAJ,MAAK,YAAkB,IAAfK,EAAc,EAAdA,QACFA,EAAQC,OAIbX,EACEU,EAAQE,KAAI,SAAAC,GAAI,MAAK,CAAEC,KAAMD,EAAKE,eAAgBC,GAAIH,EAAKG,GAA3C,KAJhBC,MAAM,iBAMT,IACAC,OAAM,SAAAC,GAAG,OAAIF,MAAME,EAAV,GACb,GAAE,CAACvB,IAiBJ,OACE,iCACE,UAACX,EAAD,CAAMmC,SAjBW,SAAAC,GACnBA,EAAEC,iBACF,IAAMC,EAAOF,EAAEG,cACf7B,EAAgB,CAAEC,MAAO2B,EAAKE,SAAS7B,MAAM8B,QAC7CH,EAAKI,OACN,EAYG,WACE,SAAC5C,EAAD,CAAO6C,KAAK,OAAOd,KAAK,QAAQe,SAXjB,SAAC,GAAe,EAAbC,OACXJ,MAAMf,OACfT,GAAe,GAEfA,GAAe,EAElB,KAMK,SAAChB,EAAD,CAAQ0C,KAAK,SAASG,UAAW9B,EAAjC,UACE,SAAC,MAAD,CAAiB+B,MAAO,CAAEC,MAAO,GAAIC,OAAQ,WAG7B,IAAnBnC,GACC,SAACZ,EAAD,UACGY,EAAea,KAAI,gBAAGE,EAAH,EAAGA,KAAME,EAAT,EAASA,GAAT,OAClB,yBACE,SAAC5B,EAAD,CAAY+C,GAAE,UAAKnB,GAAMoB,MAAO,CAAEC,KAAM9C,GAAxC,SACGuB,KAFIE,EADS,MAQpB,OAGT,C","sources":["pages/SearchBar/Searchbar.styled.js","pages/SearchBar/SearchBar.jsx"],"sourcesContent":["import styled from 'styled-components';\nimport { NavLink } from 'react-router-dom';\n\nexport const Input = styled.input`\n  min-width: 200px;\n  min-height: 30px;\n`;\n\nexport const Form = styled.form`\n  display: flex;\n  gap: 5px;\n`;\nexport const Button = styled.button`\n  border: none;\n  width: 36px;\n  height: 36px;\n  border-radius: 50%;\n  cursor: pointer;\n`;\n\nexport const List = styled.ul`\n  list-style: none;\n  display: flex;\n  flex-direction: column;\n  gap: 5px;\n  padding: 0;\n`;\n\nexport const StyledLink = styled(NavLink)`\n  text-decoration: none;\n  color: inherit;\n  font-size: 15px;\n  &:hover {\n    color: grey;\n  }\n  &:visited {\n    color: grey;\n  }\n`;\n","import React from 'react';\nimport { useEffect, useState } from 'react';\nimport { useSearchParams, useLocation } from 'react-router-dom';\nimport { AiOutlineSearch } from 'react-icons/ai';\nimport { Input, Form, Button, List, StyledLink } from './Searchbar.styled';\n\nexport default function SearchBar() {\n  const location = useLocation();\n  const [searchParams, setSearchParams] = useSearchParams();\n  const query = searchParams.get('query') ?? '';\n  const [queryMovieList, setQueryMovieList] = useState([]);\n  const [isActiveBtn, setIsActiveBtn] = useState(false);\n  const APIKey = '0729fc5ff166ac1f365f9bc4f7e8ce78';\n\n  useEffect(() => {\n    if (query === '') {\n      return;\n    }\n    fetch(\n      `   https://api.themoviedb.org/3/search/movie?api_key=${APIKey}&query=${query}`\n    )\n      .then(response => {\n        if (response.ok) {\n          return response.json();\n        }\n        throw new Error('Something went wrong');\n      })\n      .then(({ results }) => {\n        if (!results.length) {\n          alert('No movie found');\n          return;\n        }\n        setQueryMovieList(\n          results.map(item => ({ name: item.original_title, id: item.id }))\n        );\n      })\n      .catch(err => alert(err));\n  }, [query]);\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    const form = e.currentTarget;\n    setSearchParams({ query: form.elements.query.value });\n    form.reset();\n  };\n\n  const handleChange = ({ target }) => {\n    if (target.value.length) {\n      setIsActiveBtn(true);\n    } else {\n      setIsActiveBtn(false);\n    }\n  };\n\n  return (\n    <>\n      <Form onSubmit={handleSubmit}>\n        <Input type=\"text\" name=\"query\" onChange={handleChange} />\n        <Button type=\"submit\" disabled={!isActiveBtn}>\n          <AiOutlineSearch style={{ width: 15, height: 15 }} />\n        </Button>\n      </Form>\n      {queryMovieList !== 0 ? (\n        <List>\n          {queryMovieList.map(({ name, id }) => (\n            <li key={id}>\n              <StyledLink to={`${id}`} state={{ from: location }}>\n                {name}\n              </StyledLink>\n            </li>\n          ))}\n        </List>\n      ) : null}\n    </>\n  );\n}\n"],"names":["Input","styled","Form","Button","List","StyledLink","NavLink","SearchBar","location","useLocation","useSearchParams","searchParams","setSearchParams","query","get","useState","queryMovieList","setQueryMovieList","isActiveBtn","setIsActiveBtn","useEffect","fetch","then","response","ok","json","Error","results","length","map","item","name","original_title","id","alert","catch","err","onSubmit","e","preventDefault","form","currentTarget","elements","value","reset","type","onChange","target","disabled","style","width","height","to","state","from"],"sourceRoot":""}